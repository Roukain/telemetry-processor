# ===========================================
# Configuration générale de l'application
# ===========================================
spring.application.name=telemetry-processor
server.port=8080

# ===========================================
# Configuration Kafka
# ===========================================
# Adresse du broker Kafka (port exposé par Docker Compose : 9093)
spring.kafka.bootstrap-servers=localhost:9093

# Configuration du producteur Kafka
spring.kafka.producer.key-serializer=org.apache.kafka.common.serialization.StringSerializer
spring.kafka.producer.value-serializer=org.springframework.kafka.support.serializer.JsonSerializer
spring.kafka.producer.acks=all
spring.kafka.producer.retry.backoff-ms=1000
spring.kafka.producer.retry.count=3

# Configuration du consommateur Kafka
spring.kafka.consumer.group-id=telemetry-group
spring.kafka.consumer.auto-offset-reset=earliest
spring.kafka.consumer.key-deserializer=org.apache.kafka.common.serialization.StringDeserializer
spring.kafka.consumer.value-deserializer=org.springframework.kafka.support.serializer.JsonDeserializer
spring.kafka.consumer.enable-auto-commit=false
# Autorise la désérialisation des classes dans le package de TelemetryMessage
spring.kafka.consumer.properties.spring.json.trusted.packages=com.bbhv.telemetry_processor.model

# ===========================================
# Configuration Redis
# ===========================================
# Adresse de Redis (port exposé par Docker Compose : 6379)
spring.data.redis.host=localhost
spring.data.redis.port=6379
spring.data.redis.connect-timeout=5000ms
# ===========================================
# Propriétés personnalisées
# ===========================================
telemetry.topic.raw=car-telemetry-raw

# ===========================================
# Configuration des logs
# ===========================================
logging.level.root=INFO
logging.level.org.springframework=INFO
logging.level.org.apache.kafka=INFO
logging.level.com.bbhv=DEBUG
